# Build Process Summary

## Folder Structure

### `/public` folder - **KEEP IT!**

- **Purpose**: Used during development
- **Contains**: Static assets for the Express.js server
- **Used by**:
  - `npm run start:dev` (development server)
  - `npm run dev` (development with nodemon)
  - Local testing and development

### `/docs` folder - **GitHub Pages output**

- **Purpose**: Static site for GitHub Pages deployment
- **Contains**: Generated static HTML files and assets
- **Generated by**: `npm run build`
- **Deployed to**: GitHub Pages

## Build Process

### Development Commands

```bash
npm run start:dev    # Development server using /public
npm run dev          # Just the Express server
npm run watch-css    # Watch SASS files and compile to /public
```

### Production/GitHub Pages Commands

```bash
npm run clean        # Clean /docs directory (preserves .nojekyll)
npm run build        # Full build for GitHub Pages
```

### What happens during `npm run build`

1. **Pre-build**: `npm run clean`
   - Removes all files from `/docs` except `.nojekyll`

2. **Copy Icons**: `npm run copy-icons-docs`
   - Copies Bootstrap Icons to `/docs/fonts/bootstrap-icons/`

3. **Copy Static Assets**: `npm run copy-static-assets`
   - Copies JS files, manifest.json, service-worker.js from `/public` to `/docs`
   - Excludes CSS and fonts (handled separately)

4. **Build CSS**: `npm run build-css`
   - Compiles SASS to `/docs/css/styles.css`

5. **Generate Static Site**: `npm run generate-static-site`
   - Converts dynamic EJS pages to static HTML
   - Creates directory structure for nested URLs
   - Generates `.nojekyll` file if missing

## File Handling

### Always regenerated during build

- All HTML files in `/docs`
- CSS files in `/docs/css/`
- Bootstrap Icons in `/docs/fonts/`
- All copied assets from `/public`

### Preserved during cleaning

- `.nojekyll` file (required for GitHub Pages)

## Deployment

### Automatic (Recommended)

- Push to main branch
- GitHub Actions builds and deploys automatically

### Manual

1. Run `npm run build`
2. Commit and push the `/docs` directory
3. GitHub Pages serves from `/docs` folder

## Key Benefits

✅ **Clean builds**: No stale files in `/docs`  
✅ **Development isolation**: `/public` for dev, `/docs` for production  
✅ **Automatic deployment**: GitHub Actions handles everything  
✅ **Static site**: Fast loading, works with GitHub Pages  
✅ **Preserve important files**: `.nojekyll` is protected  
